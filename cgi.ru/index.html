

<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/jstree/3.0.4/themes/default/style.min.css" />
<script src="http://cdnjs.cloudflare.com/ajax/libs/jstree/3.0.4/jstree.min.js"></script>



<div id="container"></div>

<div id="text">None</div>
<script>
$(function() {
  $('#container').jstree({
    'core' : {
      'data' : {
        "url" : "/cgi-bin/treemind.py?cmd=load_subbs&id=",
        "data" : function (node) {
            console.log(node.id)
            if( node.id == '#' ){
              return { "id" : 1 };
            } else {
              return { "id" : node.id };
            }
          },
        "dataType" : "json"
      }
    }
  });

  $('#container').on("changed.jstree", function (e, data) {
    $.get("/cgi-bin/treemind.py?cmd=load_text&id=" + data.selected, function(data) {
      document.getElementById("text").innerHTML=data;
    });
  });
});

</script>

